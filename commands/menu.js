const { isAdmin } = require("../utils/isAdmin"); // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é isAdmin
const { Markup } = require("telegraf"); // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º Markup –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

module.exports = (bot) => {
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /menu
  bot.command("menu", (ctx) => {
    const userId = ctx.from.id; // –ü–æ–ª—É—á–∞–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    let menuText =
      "üìú <b>–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:</b>\n\n" +
      "/start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞\n" +
      "/help - –ü–æ–º–æ—â—å\n" +
      "/about - –û –±–æ—Ç–µ\n" +
      "/schedule1 - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π";

    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É /roles –≤ –º–µ–Ω—é
    if (isAdmin(userId)) {
      menuText += "\n/roles - –°–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π";
    }

    ctx.replyWithHTML(menuText); // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ HTML-—Ñ–æ—Ä–º–∞—Ç–µ
  });
};
